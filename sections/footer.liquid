{% comment %}theme-check-disable UndefinedObject{% endcomment %}
{{ 'section-footer.css' | asset_url | stylesheet_tag }}
{{ 'component-newsletter.css' | asset_url | stylesheet_tag }}
<script src="{{ 'footer-premium.js' | asset_url }}" defer="defer"></script>

{%- style -%}
  .footer {
    margin-top: {{ section.settings.margin_top | times: 0.75 | round: 0 }}px;
  }

  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .footer {
      margin-top: {{ section.settings.margin_top }}px;
    }

    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<footer class="footer footer--premium color-{{ section.settings.color_scheme }} gradient section-{{ section.id }}-padding">
  {%- liquid
    assign has_social_icons = false
    if settings.social_instagram_link != blank
      assign has_social_icons = true
    endif
  -%}

  {% comment %} Newsletter + Social Row {% endcomment %}
  <div class="footer__top page-width">
    {%- if section.settings.newsletter_enable -%}
      <div class="footer__newsletter-wrapper">
        <div class="footer__newsletter-content">
          <h3 class="footer__newsletter-title">Newsletter</h3>
          <p class="footer__newsletter-subtitle">Tipps, Inspiration &amp; Projekt-Updates – kein Spam</p>
        </div>
        {%- form 'customer', id: 'FooterNewsletter', class: 'footer__newsletter-form' -%}
          <input type="hidden" name="contact[tags]" value="newsletter">
          <div class="newsletter-form__field-wrapper">
            <div class="field newsletter-field">
              <input
                id="NewsletterForm--{{ section.id }}"
                type="email"
                name="contact[email]"
                class="field__input newsletter-input"
                value="{{ form.email }}"
                aria-required="true"
                autocorrect="off"
                autocapitalize="off"
                autocomplete="email"
                {% if form.errors %}
                  autofocus
                  aria-invalid="true"
                  aria-describedby="Newsletter-error"
                {% elsif form.posted_successfully? %}
                  aria-describedby="Newsletter-success"
                {% endif %}
                placeholder="E-Mail"
                required
              >
              <label class="field__label newsletter-label" for="NewsletterForm--{{ section.id }}">E-Mail</label>
              <button type="submit" class="newsletter-button" name="commit" aria-label="Anmelden">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4.167 10h11.666m0 0L10 4.167M15.833 10L10 15.833" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </button>
            </div>
            {%- if form.errors -%}
              <small class="newsletter-form__message form__message" id="Newsletter-error">
                {{ form.errors.translated_fields.email | capitalize }} {{ form.errors.messages.email }}
              </small>
            {%- endif -%}
          </div>
          {%- if form.posted_successfully? -%}
            <h3 class="newsletter-form__message--success" id="Newsletter-success" tabindex="-1">
              Vielen Dank für Ihre Anmeldung!
            </h3>
          {%- endif -%}
        {%- endform -%}
      </div>
    {%- endif -%}

    {%- if section.settings.show_social and has_social_icons -%}
      <div class="footer__social-wrapper">
        <div class="footer__social">
          {%- if settings.social_instagram_link != blank -%}
            <a href="{{ settings.social_instagram_link }}" class="social-link" aria-label="Instagram" target="_blank" rel="noopener">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="2" y="2" width="20" height="20" rx="5" stroke="currentColor" stroke-width="1.5"/>
                <circle cx="12" cy="12" r="4.5" stroke="currentColor" stroke-width="1.5"/>
                <circle cx="18.5" cy="5.5" r="1.5" fill="currentColor"/>
              </svg>
            </a>
          {%- endif -%}
        </div>
      </div>
    {%- endif -%}
  </div>

  {% comment %} Main Columns Grid {% endcomment %}
  <div class="footer__columns page-width">
    {% comment %} Column 1: Projekt {% endcomment %}
    <div class="footer-column" data-accordion="footer">
      <button class="footer-column__title" type="button" aria-expanded="false" aria-controls="footer-projekt">
        Projekt
        <svg class="accordion-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <ul id="footer-projekt" class="footer-column__list" role="list">
        <li><a href="/pages/ueber-das-projekt">Über das Projekt</a></li>
        <li><a href="/pages/faq">FAQ</a></li>
        <li><a href="/pages/kontakt">Kontakt</a></li>
      </ul>
    </div>

    {% comment %} Column 2: Service {% endcomment %}
    <div class="footer-column" data-accordion="footer">
      <button class="footer-column__title" type="button" aria-expanded="false" aria-controls="footer-service">
        Service
        <svg class="accordion-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <ul id="footer-service" class="footer-column__list" role="list">
        <li><a href="/pages/leistungen">Leistungen</a></li>
        <li><a href="/pages/ablauf">Ablauf</a></li>
        <li><a href="/pages/support">Support</a></li>
      </ul>
    </div>

    {% comment %} Column 3: Rechtliches {% endcomment %}
    <div class="footer-column" data-accordion="footer">
      <button class="footer-column__title" type="button" aria-expanded="false" aria-controls="footer-legal">
        Rechtliches
        <svg class="accordion-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <ul id="footer-legal" class="footer-column__list" role="list">
        <li><a href="/pages/impressum">Impressum</a></li>
        <li><a href="/pages/datenschutz">Datenschutz</a></li>
        <li><a href="/pages/agb">AGB</a></li>
        <li><a href="/pages/widerrufsrecht">Widerrufsrecht</a></li>
        <li><a href="/pages/cookie-richtlinie">Cookie-Richtlinie</a></li>
      </ul>
    </div>

    {% comment %} Column 4: Transparenz {% endcomment %}
    <div class="footer-column" data-accordion="footer">
      <button class="footer-column__title" type="button" aria-expanded="false" aria-controls="footer-transparenz">
        Transparenz
        <svg class="accordion-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M4 6l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <ul id="footer-transparenz" class="footer-column__list" role="list">
        <li><a href="/pages/studienprojekt-hinweis">Studienprojekt Hinweis</a></li>
        <li><a href="/pages/keine-kommerzielle-nutzung">Keine kommerzielle Nutzung</a></li>
        <li><a href="https://digitalcareerinstitute.org" target="_blank" rel="noopener">Lernplattform (DCI)</a></li>
        <li><a href="/pages/kontaktperson">Kontaktperson</a></li>
      </ul>
    </div>
  </div>

  {% comment %} Bottom Row {% endcomment %}
  <div class="footer__bottom page-width">
    <div class="footer__bottom-content">
      <div class="footer__copyright">
        <p>&copy; {{ 'now' | date: '%Y' }} bytinytales</p>
      </div>

    </div>
  </div>

</footer>

{% schema %}
{
  "name": "Footer Premium",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Farbschema",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Newsletter"
    },
    {
      "type": "checkbox",
      "id": "newsletter_enable",
      "default": true,
      "label": "Newsletter aktivieren"
    },
    {
      "type": "header",
      "content": "Soziale Netzwerke"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "default": true,
      "label": "Social Media Icons anzeigen"
    },
    {
      "type": "header",
      "content": "Abstand"
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Oberer Rand",
      "default": 0
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Innenabstand oben",
      "default": 48
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Innenabstand unten",
      "default": 32
    }
  ],
  "presets": [
    {
      "name": "Footer Premium"
    }
  ]
}
{% endschema %}
